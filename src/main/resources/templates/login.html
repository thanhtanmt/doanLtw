<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/main}">

<head>
<title>ƒêƒÉng nh·∫≠p</title>

<style>
.login-wrapper-container {
	display: flex;
	align-items: center;
	justify-content: center;
	min-height: calc(100vh - 200px);
	padding: 40px 20px;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.login-page-container {
	width: 100%;
	max-width: 1000px;
	min-height: 650px;
	display: flex;
	background: white;
	border-radius: 15px;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
	overflow: hidden;
}

/* ----- C·ªôt th√¥ng tin (B√™n tr√°i) ----- */
.info-panel {
	flex: 1;
	padding: 50px;
	color: white;
	display: flex;
	flex-direction: column;
	justify-content: center;
	position: relative;
	background-size: cover;
	background-position: center center;
	background-image: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%,
		rgba(118, 75, 162, 0.9) 100%),
		url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?w=1000');
}

.info-panel h1 {
	font-size: 32px;
	font-weight: 700;
	margin-bottom: 20px;
}

.info-panel p {
	font-size: 16px;
	line-height: 1.7;
	margin-bottom: 30px;
	opacity: 0.9;
}

.info-features {
	list-style: none;
	padding-left: 0;
}

.info-features li {
	font-size: 15px;
	margin-bottom: 15px;
	display: flex;
	align-items: center;
	gap: 10px;
}

.info-features i {
	font-size: 18px;
	width: 20px;
	text-align: center;
}

/* ----- C·ªôt Form (B√™n ph·∫£i) ----- */
.form-panel {
	flex: 1.1;
	display: flex;
	flex-direction: column;
	justify-content: center;
	padding: 40px;
}

.form-title {
	padding-bottom: 20px;
	text-align: center;
	font-size: 24px;
	font-weight: 700;
	color: #333;
}

/* Tab */
.role-switcher {
	display: flex;
	width: 100%;
	border-bottom: 1px solid #f0f0f0;
}

.role-tab {
	flex: 1;
	padding: 18px;
	font-size: 16px;
	font-weight: 600;
	text-align: center;
	cursor: pointer;
	border: none;
	background: none;
	color: #7f8c8d;
	border-bottom: 3px solid transparent;
	transition: all 0.3s;
}

.role-tab:hover {
	background: #f8f9fa;
}

.role-tab.active {
	color: #667eea;
	border-bottom-color: #667eea;
}

/* Form */
.form-content {
	padding: 30px 0 0 0;
}

.form-label {
	display: block;
	font-weight: 600;
	font-size: 14px;
	margin-bottom: 8px;
	color: #333;
}

.form-label i {
	margin-right: 5px;
	color: #667eea;
}

.form-group {
	margin-bottom: 20px;
	position: relative;
}

.form-group i {
	position: absolute;
	left: 18px;
	top: 50%;
	transform: translateY(-50%);
	color: #bdc3c7;
}

.form-group input {
	width: 100%;
	padding: 15px 15px 15px 50px;
	border: 1px solid #e0e0e0;
	border-radius: 8px;
	font-size: 15px;
}

.form-group input:focus {
	outline: none;
	border-color: #667eea;
	box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.form-options {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 25px;
	font-size: 14px;
}

.remember-me {
	display: flex;
	align-items: center;
	gap: 8px;
	color: #333;
}

.remember-me input[type="checkbox"] {
	width: 16px;
	height: 16px;
	cursor: pointer;
}

.forgot-password-link {
	color: #667eea;
	text-decoration: none;
	font-weight: 500;
}

.login-btn {
	width: 100%;
	padding: 15px;
	border: none;
	border-radius: 8px;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	color: white;
	font-size: 16px;
	font-weight: 600;
	cursor: pointer;
	transition: all 0.3s;
}

.login-btn:hover {
	transform: translateY(-2px);
	box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

/* Kh√°ch h√†ng */
.customer-only .divider {
	text-align: center;
	color: #bdc3c7;
	margin: 25px 0;
	position: relative;
}

.customer-only .divider::before, .customer-only .divider::after {
	content: '';
	position: absolute;
	top: 50%;
	width: 40%;
	height: 1px;
	background: #e0e0e0;
}

.customer-only .divider::before {
	left: 0;
}

.customer-only .divider::after {
	right: 0;
}

.customer-only .social-login {
	display: flex;
	gap: 15px;
}

.social-btn {
	flex: 1;
	padding: 12px;
	border-radius: 8px;
	text-decoration: none;
	font-weight: 500;
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
	transition: transform 0.2s;
}

.social-btn:hover {
	transform: translateY(-2px);
}

.social-btn.google {
	background: #f8f9fa;
	border: 1px solid #e0e0e0;
	color: #333;
}

.social-btn.facebook {
	background: #1877f2;
	color: white;
}

.customer-only.create-account {
	text-align: center;
	margin-top: 25px;
	color: #333;
}

.customer-only.create-account a {
	color: #667eea;
	font-weight: 600;
	text-decoration: none;
}

@media ( max-width : 992px) {
	.login-page-container {
		flex-direction: column;
		min-height: auto;
		max-width: 500px;
	}
	.info-panel {
		display: none;
	}
	.form-panel {
		padding: 30px;
	}
	.login-wrapper-container {
		padding: 30px 20px;
	}
}
</style>
</head>

<body>

	<main layout:fragment="content">

		<div class="login-wrapper-container">
			<div class="login-page-container">

				<div class="info-panel">
					<h1>Ch√†o m·ª´ng tr·ªü l·∫°i!</h1>
					<p>ƒêƒÉng nh·∫≠p ƒë·ªÉ kh√°m ph√° nh·ªØng b·ªô s∆∞u t·∫≠p th·ªùi trang m·ªõi nh·∫•t
						v√† nh·∫≠n ƒë∆∞·ª£c c√°c ∆∞u ƒë√£i ƒë·∫∑c bi·ªát d√†nh ri√™ng cho b·∫°n.</p>
					<ul class="info-features">
						<li><i class="fas fa-check-circle"></i> <span>Mua s·∫Øm
								d·ªÖ d√†ng, nhanh ch√≥ng</span></li>
						<li><i class="fas fa-star"></i> <span>∆Øu ƒë√£i ƒë·ªôc quy·ªÅn
								cho th√†nh vi√™n</span></li>
						<li><i class="fas fa-truck"></i> <span>Theo d√µi ƒë∆°n
								h√†ng m·ªçi l√∫c</span></li>
					</ul>
				</div>

				<div class="form-panel">
					<div class="form-title">ƒêƒÉng nh·∫≠p t√†i kho·∫£n</div>

					<div class="role-switcher">
						<button id="customer-tab" class="role-tab active">
							<i class="fas fa-user"></i> Kh√°ch h√†ng
						</button>
						<button id="employee-tab" class="role-tab">
							<i class="fas fa-user-shield"></i> Nh√¢n vi√™n
						</button>
						<!-- ‚úÖ Th√™m m·ªõi -->
						<button id="shipper-tab" class="role-tab">
							<i class="fas fa-truck"></i> Shipper
						</button>
					</div>

					<div class="form-content">

						<form id="login-form" th:action="@{/login}" method="post">

							<label for="username" class="form-label"> <i
								class="fas fa-user"></i> T√™n ƒëƒÉng nh·∫≠p ho·∫∑c Email
							</label>
							<div class="form-group">
								<i class="fas fa-envelope"></i> <input type="text" id="username"
									name="username" placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p ho·∫∑c email"
									required>
							</div>

							<label for="password" class="form-label"> <i
								class="fas fa-lock"></i> M·∫≠t kh·∫©u
							</label>
							<div class="form-group">
								<i class="fas fa-key"></i> <input type="password" id="password"
									name="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
							</div>

							<div th:if="${param.error}"
								style="color: red; font-size: 13px; text-align: center; margin-bottom: 15px;">
								Sai email ho·∫∑c m·∫≠t kh·∫©u.</div>

							<div class="form-options">
								<div class="remember-me">
									<input type="checkbox" id="remember-me" name="remember-me">
									<label for="remember-me">Ghi nh·ªõ ƒëƒÉng nh·∫≠p</label>
								</div>
								<a href="#" class="forgot-password-link">Qu√™n m·∫≠t kh·∫©u?</a>
							</div>

							<button type="submit" class="login-btn">ƒêƒÇNG NH·∫¨P</button>

							<div class="customer-only">
								<div class="divider">HO·∫∂C</div>
								<div class="social-login">
									<a href="#" class="social-btn google"> <i
										class="fab fa-google"></i> Google
									</a> <a href="#" class="social-btn facebook"> <i
										class="fab fa-facebook-f"></i> Facebook
									</a>
								</div>
							</div>
						</form>

						<div class="customer-only create-account">
							Ch∆∞a c√≥ t√†i kho·∫£n? <a th:href="@{/register}">T·∫°o t√†i kho·∫£n
								ngay</a>
						</div>
						<!-- ‚úÖ V√πng hi·ªÉn th·ªã khi ch·ªçn tab Ng∆∞·ªùi b√°n -->
						<div class="seller-only create-account"
							style="display: none; text-align: center; margin-top: 25px; color: #333;">
							Ch∆∞a c√≥ shop? <a th:href="@{/seller/register}"
								style="color: #667eea; font-weight: 600; text-decoration: none;">
								ƒêƒÉng k√Ω shop ngay </a>
						</div>


					</div>
				</div>
			</div>
		</div>

		<script th:inline="javascript">
/*<![CDATA[*/
document.addEventListener('DOMContentLoaded', function() {

    // üîπ L·∫•y ph·∫ßn t·ª≠ DOM
    const customerTab = document.getElementById('customer-tab');
    const employeeTab = document.getElementById('employee-tab');
    const shipperTab = document.getElementById('shipper-tab');
    const loginForm = document.getElementById('login-form');
    const customerOnlyElements = document.querySelectorAll('.customer-only');

    // üîπ ƒê·∫£m b·∫£o t·∫•t c·∫£ t·ªìn t·∫°i tr∆∞·ªõc khi ch·∫°y
    if (!customerTab || !employeeTab || !shipperTab || !loginForm) {
        console.error("‚ùå Kh√¥ng t√¨m th·∫•y m·ªôt s·ªë ph·∫ßn t·ª≠ trong trang ƒëƒÉng nh·∫≠p!");
        return;
    }

    // üîπ URL login cho t·ª´ng vai tr√≤
    const customerLoginUrl = /*[[@{/login}]]*/ '/login';
    const employeeLoginUrl = /*[[@{/admin/login}]]*/ '/admin/login';
    const shipperLoginUrl = /*[[@{/shipper/login}]]*/ '/shipper/login';

    // üîπ X√≥a tr·∫°ng th√°i active t·∫•t c·∫£ tab
    function clearActiveTabs() {
        [customerTab, employeeTab, shipperTab].forEach(tab => tab.classList.remove('active'));
    }

    // üîπ Hi·ªÉn th·ªã t·ª´ng ch·∫ø ƒë·ªô
    function showCustomerView() {
        clearActiveTabs();
        customerTab.classList.add('active');
        loginForm.setAttribute('action', customerLoginUrl);
        customerOnlyElements.forEach(el => el.style.display = 'block');
    }

    function showEmployeeView() {
        clearActiveTabs();
        employeeTab.classList.add('active');
        loginForm.setAttribute('action', employeeLoginUrl);
        customerOnlyElements.forEach(el => el.style.display = 'none');
    }

    function showShipperView() {
        clearActiveTabs();
        shipperTab.classList.add('active');
        loginForm.setAttribute('action', shipperLoginUrl);
        customerOnlyElements.forEach(el => el.style.display = 'none');
    }

    // üîπ G√°n s·ª± ki·ªán click cho c√°c tab
    customerTab.addEventListener('click', showCustomerView);
    employeeTab.addEventListener('click', showEmployeeView);
    shipperTab.addEventListener('click', showShipperView);

    // üîπ M·∫∑c ƒë·ªãnh: ch·ªçn tab kh√°ch h√†ng
    showCustomerView();

    // üîπ X·ª≠ l√Ω s·ª± ki·ªán submit (m√¥ ph·ªèng chuy·ªÉn h∆∞·ªõng khi l√† nh√¢n vi√™n)
    loginForm.addEventListener('submit', function(event) {
        const adminHomeUrl = /*[[@{/admin/home}]]*/ '/admin/home';
        if (employeeTab.classList.contains('active')) {
            event.preventDefault();
            console.log('‚û°Ô∏è Chuy·ªÉn h∆∞·ªõng ƒë·∫øn:', adminHomeUrl);
            window.location.href = adminHomeUrl;
        }
    });
});
/*]]>*/
</script>


	</main>
</body>
</html>